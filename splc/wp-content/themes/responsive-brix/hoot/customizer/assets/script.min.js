jQuery(document).ready(function(o){"use strict";if(o("ul.hoot-control-sortlist").each(function(){var t=o(this),e=t.children("li"),n=e.children(".hoot-sortlistitem-head"),i=n.children(".sortlistitem-display"),a=e.children(".hoot-sortlistitem-options");t.is(".default-open")||a.hide(),n.on("click",function(t){o(this).children(".sortlistitem-expand").toggleClass("options-open"),o(this).siblings(".hoot-sortlistitem-options").slideToggle("fast")}),i.on("click",function(t){t.stopPropagation();var e=o(this).closest("li.hoot-control-sortlistitem");e.toggleClass("deactivated");var n=e.is(".deactivated")?"1":"0";o(this).siblings("input.hoot-control-sortlistitem-hide").val(n).trigger("change")});var l=t.find("input, textarea, select"),c=t.siblings("input.hoot-customizer-control-sortlist"),r=function(){l=t.find("input, textarea, select"),c.val(l.serialize()).trigger("change")};l.on("change",r),t.is(".sortable")&&t.sortable({handle:".sortlistitem-sort",placeholder:"hoot-control-sortlistitem-placeholder",update:function(o,t){r()},forcePlaceholderSize:!0})}),o(".customize-control-radioimage").each(function(){var t=o(this).find("input"),e=o(this).find(".hoot-customize-radioimage");t.on("change",function(){e.removeClass("radiocheck"),o(this).parent(".hoot-customize-radioimage").addClass("radiocheck")})}),"undefined"!=typeof _hoot_customizer_data&&"undefined"!=typeof _hoot_customizer_data.iconslist){var t=o("body"),e=o("#hoot-flyicon-content");t.on("openflypanel",function(){var n=t.data("flypanelbutton");if(n&&"icon"==n.data("flypaneltype")&&"open"==n.data("flypanel")){e.html(_hoot_customizer_data.iconslist).data("controlgroup",n);var i=e.find("i"),a=n.siblings("input.hoot-customizer-control-icon"),l=a.val(),c=n.children("i");n.addClass("flygroup-open"),l&&e.find("i."+l).addClass("selected"),i.click(function(t){var e=o(this).data("value");i.removeClass("selected"),o(this).addClass("selected"),a.val(e).trigger("change"),c.removeClass().addClass("fa "+e),o(".hoot-flypanel-back").trigger("click")}),t.addClass("hoot-displaying-flyicon"),t.data("flypaneltype","icon")}}),t.on("closeflypanel",function(){t.removeClass("hoot-displaying-flyicon");var n=e.data("controlgroup");n&&o(n).removeClass("flygroup-open"),"icon"==t.data("flypaneltype")&&t.data("flypaneltype","")}),o(".hoot-customizer-control-icon-remove").click(function(t){var e=o(this).siblings("input.hoot-customizer-control-icon"),n=o(this).siblings(".hoot-customizer-control-icon-picked").children("i");e.val("").trigger("change"),n.removeClass()})}o(".hoot-customize-control-groupstart").each(function(t){var e=o(this).attr("id"),n=o(this).nextUntil(".hoot-customize-control-groupend","li");n.addClass("hoot-customize-control-group-blocks").attr("data-controlgroup",e)});var t=o("body");t.on("openflypanel",function(){var e=t.data("flypanelbutton");if(e&&"group"==e.data("flypaneltype")&&"open"==e.data("flypanel")){var n=e.parent(".hoot-customize-control-groupstart");n.addClass("flygroup-open");var i=n.nextUntil(".hoot-customize-control-groupend","li");o("#hoot-flygroup-content").html("").append(i).wrapInner("<ul></ul>"),t.addClass("hoot-displaying-flygroup"),t.data("flypaneltype","group")}}),t.on("closeflypanel",function(){t.removeClass("hoot-displaying-flygroup"),"group"==t.data("flypaneltype")&&(o("#hoot-flygroup-content > ul > li").each(function(){var t=o(this).data("controlgroup");o(this).insertBefore("#"+t+"-end"),o("#"+t).removeClass("flygroup-open")}),t.data("flypaneltype",""))}),o(".customize-control-bettercheckbox .bettercheckbox-multi").each(function(){var t=o(this),e=t.find('input[type="checkbox"]'),n=t.find('input[type="hidden"]');e.on("change",function(){var o=e.filter(":checked").map(function(){return this.value}).get().join(",");n.val(o).trigger("change")})}),o(".hoot-customize-control-betterbackgroundstart").each(function(t){var e=o(this).nextUntil(".hoot-customize-control-betterbackgroundend","li"),n=e.filter(".hoot-customize-control-betterbackgroundbutton"),i=n.find(".hoot-betterbackground-button"),a=n.find("input.hoot-customizer-control-betterbackground"),l=e.filter(".customize-control-color, .customize-control-image, .customize-control-select"),c=e.filter(".customize-control-color, .hoot-customize-control-groupstart"),r=function(o){"predefined"==o&&(l.hide(),c.show()),"custom"==o&&(c.hide(),l.show())};e.addClass("hoot-customize-control-background-blocks"),n.length&&(e.hide(),e.filter(".hoot-customize-control-betterbackgroundbutton").show(),r(a.val()),i.on("click",function(){var t=o(this).data("value");i.removeClass("selected").addClass("deactive"),o(this).removeClass("deactive").addClass("selected"),a.val(t).trigger("change"),r(t)}));var s=e.find(".hoot-betterbackground-button-pattern"),d=e.find(".hoot-customize-radioimage");s.length&&(s.html("").append(d.filter(".radiocheck").children("img").clone()),d.on("click",function(){s.html("").append(o(this).children("img").clone())}))}),"undefined"!=typeof _hoot_customizer_data&&"undefined"!=typeof _hoot_customizer_data.bcomp&&"yes"==_hoot_customizer_data.bcomp&&o("body").addClass("hoot-bcomp"),o("#customize-info").html("").append(o("#hoot-info-buttons")).show();var t=o("body"),n=o(".hoot-flypanel-button"),i=function(){n.click(function(e){"open"==t.data("flypanel")&&"open"==o(this).data("flypanel")?a():(a(),l(o(this))),e.stopPropagation()}),o(".hoot-flypanel-back").click(function(o){a(),o.stopPropagation()}),o(".hoot-flypanel").click(function(o){o.stopPropagation()}),t.click(function(t){o(t.target).closest(".media-modal").length||a()})},a=function(){t.data("flypanel","close"),t.data("flypanelbutton",""),n.data("flypanel","close"),t.trigger("closeflypanel")},l=function(o){t.data("flypanel","open"),t.data("flypanelbutton",o),o.data("flypanel","open"),t.trigger("openflypanel")};i()});